process write = {
    untracked PSet maxEvents = {untracked int32 input = 1}
    source = EmptySource { }

    include "CondCore/DBCommon/data/CondDBCommon.cfi"
    # Writing to oracle needs the following shell variable setting (in zsh):
    # export CORAL_AUTH_PATH=/afs/cern.ch/cms/DB/conddb
#    replace CondDBCommon.connect = "oracle://cms_orcoff_int2r/CMS_COND_ALIGNMENT"
    replace CondDBCommon.connect = "sqlite_file:output.db"

    replace CondDBCommon.DBParameters.messageLevel = 2
    service = PoolDBOutputService {
        using CondDBCommon
	untracked string timetype = "runnumber"
        # untracked uint32 authenticationMethod = 1
        VPSet toPut = {
            {
                string record = "GlobalPositionRcd"
                string tag = "IdealGeometry"
            }
        }
    }
    
    module GlobalPositionRcdWrite = GlobalPositionRcdWrite {
	PSet tracker = {
	    double x     = 0. double y    = 0. double z     = 0.
	    double alpha = 0. double beta = 0. double gamma = 0.
	}
	PSet muon = {
	    double x     = 0. double y    = 0. double z     = 0.
	    double alpha = 0. double beta = 0. double gamma = 0.
	}
	PSet ecal = {
	    double x     = 0. double y    = 0. double z     = 0.
	    double alpha = 0. double beta = 0. double gamma = 0.
	}
	PSet hcal = {
	    double x     = 0. double y    = 0. double z     = 0.
	    double alpha = 0. double beta = 0. double gamma = 0.
	}
    }

    path p = {GlobalPositionRcdWrite}
}
