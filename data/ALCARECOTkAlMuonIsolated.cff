# AlCaReco for track based alignment using isolated muon tracks

  module ALCARECOTkAlMuonIsolatedHLT = hltHighLevel from "HLTrigger/HLTfilters/data/hltHighLevel.cfi"
  replace ALCARECOTkAlMuonIsolatedHLT.andOr = true # choose logical OR between Triggerbits
  ### NOTE: this has to hold for all triggertables, so in order for this to not crash all bits of all triggertables 
  #         have to be in all triggertables but switched off via prescale.
  #for L = 10e30:  HLT_Mu3 , HLT_Mu5
  #for L = 10e31:  unknown
  #for L = 10e32:  HLT_IsoMu11 , HLT_Mu15_L1Mu7
  replace ALCARECOTkAlMuonIsolatedHLT.HLTPaths = { "HLT_Mu3" , "HLT_Mu5" , "HLT_IsoMu11" , "HLT_Mu15_L1Mu7" }

  module ALCARECOTkAlMuonIsolated = AlignmentTrackSelector from "Alignment/CommonAlignmentProducer/data/AlignmentTrackSelector.cfi"

    replace ALCARECOTkAlMuonIsolated.filter = true #do not store empty events
	
    replace ALCARECOTkAlMuonIsolated.applyBasicCuts = true
	replace ALCARECOTkAlMuonIsolated.ptMin = 2.0 #GeV #lower then lowest HLT cut to get every isolated Muon.
	replace ALCARECOTkAlMuonIsolated.etaMin = -3.5
	replace ALCARECOTkAlMuonIsolated.etaMax = 3.5
	replace ALCARECOTkAlMuonIsolated.nHitMin =  0

     replace ALCARECOTkAlMuonIsolated.GlobalSelector.applyIsolationtest = true
     replace ALCARECOTkAlMuonIsolated.GlobalSelector.minJetDeltaR = 0.1

     replace ALCARECOTkAlMuonIsolated.GlobalSelector.applyGlobalMuonFilter = true

     replace ALCARECOTkAlMuonIsolated.TwoBodyDecaySelector.applyMassrangeFilter = false

     replace ALCARECOTkAlMuonIsolated.TwoBodyDecaySelector.applyChargeFilter = false
	
     replace ALCARECOTkAlMuonIsolated.TwoBodyDecaySelector.applyAcoplanarityFilter = false

  sequence seqALCARECOTkAlMuonIsolated = {ALCARECOTkAlMuonIsolatedHLT & ALCARECOTkAlMuonIsolated }


